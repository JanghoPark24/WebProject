<?xml version="1.0" encoding="UTF-8" ?>
 <!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="lectureMap">


	<select id="getRowCount" parameterType="pageIndex" resultType="int">
		select count(*) from lecture
		
	</select>
	<!-- <select id="getSearchRowCount" parameterType="pageIndex" resultType="int">
		select count(*) from lecture
		<where>
			<if test="keyword != null and search !='subcon'">
				${search} like '%'||#{keyword}||'%'
			</if>
			<if test="keyword != null and search=='subcon'">
				subject like '%'||#{keyword}||'%' or
				content like '%'||#{keyword}||'%'
			</if>
		</where>
	</select> -->
	<select id="getLectureList" parameterType="java.util.HashMap" resultType="lectureResult">
	<!-- <select id="getLectureList" parameterType="pageIndex" resultType="lectureResult"> -->
		select * from (select a.*,rowNum rnum from (
			select * from lecture
		<!-- <where>
			<if test="keyword != null and search !='subcon'">
				${search} like '%'||#{keyword}||'%'
			</if>
			<if test="keyword != null and search=='subcon'">
				subject like '%'||#{keyword}||'%' or
				content like '%'||#{keyword}||'%'
			</if>
		</where>		  -->
			 order by lecture_id ) a )
			where rnum between #{startRow,jdbcType=INTEGER} and #{endRow,jdbcType=INTEGER}
		
	</select>
	<!-- 중복검사 -->
	
	


</mapper>








