<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="qna_board">

<insert id="qna_insert"  parameterType="qna">
	insert into qna_board values
	(qna_board_seq.nextval,#{univ_name,jdbcType=VARCHAR},
	#{email,jdbcType=VARCHAR},#{subject},
	#{content},0,sysdate,'n')
</insert>

<select id="qna_count" resultType="int"> <!-- resultType=int여야함 -->
  select count(board_num) from qna_board
</select>


<select id="qna_list" resultType="qna">
 <![CDATA[
 SELECT * from
 (select rownum rnum, board_num,univ_name, subject,
        REG_DATE, VIEW_COUNT
         FROM qna_board ) 
        where rnum >= ((#{page}-1) * 10+1)  and rnum <= (#{page} * 10)
	]]>
<!--          WHERE   c.email = r.email
 -->
</select>

<select id="qna_read" resultType="qna"> <!-- resultType필요 -->
    select * from qna_board where board_num = #{board_num} 
</select>

</mapper>